# 结构体

## 为何要用结构体

 数组只能储存同类型的数据，
- 比如存五十个学生的成绩：int score 【50】；
但是在实际中，描述“一个学生”包含很多信息
- 姓名（char）
- 成绩（double）
- 年龄（int）......
数组无法做到把不同的信息整体打包储存，所以结构体（sturct）出现，成为一个打包不同数据类型的包裹

## 结构体的定义和代码语法

1. 基本语法

~~~
struct Student{
    char name[20];
    int age;
    double score;
}; //注意：这里必须有分号！
~~~
- 这段代码中，没有在内存中创建变量，只是定义了一个新的类型“struct Student”

## 结构体的使用方法

1. 声明与初始化

~~~
// 1. 类似于int a；一样，声明一个学生变量 s1；（此时的struct Student就是int，是一种变量类型）
struct Student s1；

// 2. 声明的同时可以赋值
struct Student s2={“LiHua”,20,85.5};
~~~

2. 访问成员

- 读取或者修改结构体中的内容，用“.”

~~~
s1.age = 20;  //修改s1的年龄
printf("%lf",s2.score);  //打印s2的成绩
~~~

3. 综合指针使用

- 若用结构体的指针来修改结构体中的某一元素内容，核心操作：用“->”

~~~
struct Student s1={"LiHua",20,95.5};
struct Student *p=&s1;
p->age=19;  // 修改学生年龄为19
~~~

- 如果用的是变量名，则用“.”操作修改
- 如果用的是指针，则用箭头->

4. 结合typedef

- 什么是typedef
 
  - 功能：给现有的数据类型起一个别名，不会创造新的数据类型，而是给已有的数据类型换一个名字

  - 举例：
  ~~~
  typedef int zhengshu；
  zhengshu a = 10； //相当于 int a = 10；
  ~~~

- 用途一：写在线性表之前，便于之后数据类型转换后只改表头即可

原本是int类型的线性表，要用char类型

~~~
typedef int elemtype；// 定义elemtype为int，之后的代码中可以用elemtype定义变量，若要改为char类型，只需要在表头把int改成char
~~~

- 用途二：简化结构体
原本声明变量代码：
~~~
struct Student{
    char name[20];
    int age;
    double score;
};

struct Student s1; //struct 一直不能省略
~~~

用typedef之后
~~~
typedef struct Student{
     char name[20];
    int age;
    double score;
}J； //把struct Student这个整体起名叫做J
J s1； //现在只需要写J s1，方便很多
~~~


